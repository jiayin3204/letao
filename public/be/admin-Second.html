<!DOCTYPE html>
<html lang="en">
<b></b>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>二级分类</title>

	<link rel="stylesheet" href="./font/css/font-awesome.css">
	<link rel="stylesheet" href="./bootstrap/bootstrap.min.css">
	<link rel="stylesheet" href="./css/admin-index.css">
	<link rel="stylesheet" href="./css/admin-Second.css">
</head>

<body>
	<div class="box">
		<!-- 头部 -->
		<header class="header">
			<i class="fa fa-bars btn"></i>
			<a href="javascript:;" class="fa fa-sign-out" data-toggle="modal" data-target=".bs"></a>
			<div class="modal fade bs" tabindex="-1">
				<div class="modal-dialog modal-sm" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
							<h4 class="modal-title">温馨提示</h4>
						</div>
						<div class="modal-body">
							<span class="fa fa-exclamation-triangle"></span>
							<span>您确定要退出系统吗?</span>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn_button btn-default" data-dismiss="modal">取消</button>
							<a href="login.html">
								<button type="button" class="btn_button btn-primary">确定</button>
							</a>
						</div>
					</div>
				</div>
			</div>
		</header>
		<!-- 左侧导航条 -->
		<div class="nav clearfix">
			<div class="leftsidebar_box">
				<div class="top">
					<div class="logo">
						<a href="javascript:;">ITCAST</a>
					</div>
				</div>
				<dl>
					<div class="jpg">
						<img src="./image/1.png" alt="">
						<span>超级管理员</span>
					</div>
				</dl>
				<dl class="custom">
					<dt onClick="changeImage()">
						<i class="fa fa-user"></i>
						<a href="userManage.html" style="color:#fff">用户管理</a>
					</dt>
				</dl>

				<dl class="channel">
					<dt class="active">
						<i class="fa fa-bars"></i>
						分类管理
					</dt>
					<dd class="first_dd">
						<a href="admin-index.html">一级分类</a>
					</dd>
					<dd>
						<a href="#" class="active">二级分类</a>
					</dd>
				</dl>

				<dl class="app">
					<dt onClick="changeImage()">
						<i class="fa fa-envira"></i>
						商品管理
					</dt>
				</dl>

			</div>
		</div>
		<!-- 管理系统 -->
		<div class="system">
			<div class="top">
				<ul>
					<li>
						<a href="javascript:;" class="active">管理系统</a>
						<span>/</span>
					</li>
					<li>
						<a href="javascript:;">分类管理</a>
						<span>/</span>
					</li>
					<li>
						<a href="javascript;;">二级分类</a>
					</li>
				</ul>
			</div>
			<div>
				<!-- 表格 -->
				<table class="table table-hover table-bordered">
					<!-- 点击的添加分类 data-target和模拟框的class对象相同 -->
					<caption data-toggle="modal" data-target=".bs-example-modal-sm">添加分类</caption>
					<!-- Small modal 小模拟框-->
					<div class="modal fade bs-example-modal-sm" tabindex="-1">
						<div class="modal-dialog modal-sm" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
									<h4 class="modal-title">添加分类</h4>
									<ul class="nav navbar-nav">
										<li>一级分类 :
											<select name="" id="value">
												<option value="">请选择</option>
												<option value="">女士馆</option>
												<option value="">女士馆</option>
												<option value="">女士馆</option>
											</select>
											<input type="hidden" name="categoryId">
										</li>
									</ul>
								</div>
								<form action="secondImage.php" method="post" enctype="multipart/form-data">
									<div class="modal-body">
										<input type="text" placeholder="请输入二级分类">
										<a href="javascript:;">上传图片
											<input id="file_upload" type="file" name="feasure">
										</a>
										<div class="image_container">
											<img src="./image/none.png" alt="" id="preview" width="60" height="60">
											<input type="hidden" name="brandLogo">
										</div>

									</div>
								</form>
								<div class="modal-footer">
									<button type="button" class="btn_button btn-default" data-dismiss="modal">取消</button>
									<button type="button" class="btn_button btn-primary">确定</button>
								</div>
							</div>
						</div>
					</div>
					<!-- 分类表格 -->
					<thead>
						<tr>
							<th>序号</th>
							<th>一级分类名称</th>
							<th>二级分类名称</th>
							<th>二级分类LOGO</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<th scope="row">1</th>
							<td>女士馆</td>
							<td>阿萨德2</td>
							<td></td>
						</tr>
					</tbody>
				</table>
			</div>
			<!-- 分页 -->
			<div id="page" style="float:right"></div>
		</div>
	</div>
	<script type="text/template" id="secondTemplate">
	<%for(var i = 0;i<rows.length;i++){%>
		<tr>
				<th scope="row"><%=(page-1)*size+i+1%></th>
				<td><%=rows[i].categoryName%></td>
				<td><%=rows[i].brandName%></td>
				<td>
					<img width="100" src="<%=rows[i].brandLogo%>" alt="<%=rows[i].brandName%>">
				</td>
			</tr>
	<%}%>
	</script>
	<script src="./js/jQuery.min.js"></script>
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="./js/bootstrap.min.js"></script>
	<script src="./lib/artTemplate/template-native.js"></script>
	<script src="./lib/bootstrap-paginator/bootstrap-paginator.min.js"></script>
	<script src="./js/common.js"></script>
	<script src="./js/admin-Second.js"></script>
	<script>
		$(function () {
			$("#file_upload").change(function () {
				var $file = $(this);
				var fileObj = $file[0];
				var windowURL = window.URL || window.webkitURL;
				var dataURL;
				var $img = $("#preview");

				if (fileObj && fileObj.files && fileObj.files[0]) {
					// 在没有开启服务器的情况下在本地看到上传的图片的时候,用下面方法可以获取url路径
					dataURL = windowURL.createObjectURL(fileObj.files[0]);
					console.log(dataURL);
					$img.attr('src', dataURL);
				} else {
					dataURL = $file.val();
					var imgObj = document.getElementById("preview");
					// 两个坑:
					// 1、在设置filter属性时，元素必须已经存在在DOM树中，动态创建的Node，也需要在设置属性前加入到DOM中，先设置属性在加入，无效；
					// 2、src属性需要像下面的方式添加，上面的两种方式添加，无效；
					imgObj.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale)";
					imgObj.filters.item("DXImageTransform.Microsoft.AlphaImageLoader").src = dataURL;

				}
			});
		});
	</script>
</body>

</html>